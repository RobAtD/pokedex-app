let pokemonRepository=function(){let e=[],t=document.querySelector("#loadingSpinner-container"),n=$("#previous-pokemon"),a=$("#next-pokemon");function o(){return e}function i(t){"object"!=typeof t?console.log("Pokemon is not an Object!"):e.push(t)}function r(e){return[e.type.name].join(", ")}function s(e){return c(),fetch(e.detailsUrl).then(function(e){return l(),e.json()}).then(function(t){e.imageURLFront=t.sprites.front_default,e.imageURLBack=t.sprites.back_default,e.height=t.height,e.types=t.types}).catch(function(e){l(),console.error(e)})}function c(){t.classList.add("is-visible")}function l(){t.classList.remove("is-visible")}let p=document.querySelector(".music-button"),m=document.querySelector("audio");return p.addEventListener("click",function(){p.classList.contains("pause")?(m.load(),m.volume=.1,m.play(),p.classList.remove("pause")):(m.pause(),p.classList.add("pause"))}),{getAll:o,add:i,addListItem:function t(o){let i=document.querySelector("ul"),c=document.createElement("li"),l=document.createElement("button");l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#pokemonDetails-container"),l.innerText=o.name.charAt(0).toUpperCase()+o.name.slice(1),l.classList.add("btn","btn-primary","btn-lg","btn-block"),c.classList.add("list-group-item"),c.appendChild(l),i.appendChild(c),function t(o,i){o.addEventListener("click",function(){s(i).then(function(){let t=$(".modal-title"),o=$(".modal-body"),c=document.querySelector(".modal-body");t.empty(),o.empty();let l=$('<img class="modal-img" style="width:50%" />');l.attr("src",i.imageURLFront),l.attr("aria-label","Front image of "+i.name.charAt(0).toUpperCase()+i.name.slice(1));let p=$('<img class="modal-img" style="width:50%" />');p.attr("src",i.imageURLBack),p.attr("aria-label","Back image of "+i.name.charAt(0).toUpperCase()+i.name.slice(1));let m=$("<p>Name: "+i.name.charAt(0).toUpperCase()+i.name.slice(1)+"</p>"),u=$("<p>Height: "+i.height+"</p>"),d=$("<p>Types: "+i.types.map(r)+"</p>");t.append(m),o.append(l),o.append(p),o.append(u),o.append(d);let f,h,g=e.indexOf(i);function y(e){(h=e.changedTouches[0].screenX)<=f&&(g++,L()),h>=f&&(g--,L())}function L(){g<0?g++:e[g]?s(e[g]).then(function(){m.text("Name: "+e[g].name.charAt(0).toUpperCase()+e[g].name.slice(1)),u.text("Height: "+e[g].height),d.html("<p> Types: "+e[g].types.map(r)+"</p>"),l.attr("src",e[g].imageURLFront),l.attr("aria-label","Front image of "+e[g].name.charAt(0).toUpperCase()+e[g].name.slice(1)),p.attr("src",e[g].imageURLBack),p.attr("aria-label","Back image of "+e[g].name.charAt(0).toUpperCase()+e[g].name.slice(1))}):g--}c.addEventListener("touchstart",function e(t){f=t.changedTouches[0].screenX,c.addEventListener("touchend",y)}),n.on("click",function(){g--,L()}),a.on("click",function(){g++,L()})})})}(l,o)},loadList:function e(){return c(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=1302").then(function(e){return l(),e.json()}).then(function(e){e.results.forEach(function(e){i({name:e.name,detailsUrl:e.url})})}).catch(function(e){l(),console.error(e)})},loadDetails:s}}();function printPokemonList(e){pokemonRepository.addListItem(e)}function filterByName(e){return pokemonRepository.getAll().filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))}pokemonRepository.loadList().then(function(){let e=$("#search-field"),t=document.querySelector("ul");pokemonRepository.getAll().forEach(printPokemonList),e.on("input",function(){t.innerHTML="",filterByName(e.val()).forEach(printPokemonList)})});